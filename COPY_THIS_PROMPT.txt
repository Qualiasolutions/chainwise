===============================================
üìã COPY THIS EXACT PROMPT FOR DEPLOYMENT AGENT
===============================================

I need you to deploy ChainWise to production. All code is ready and committed to GitHub. Your job is to set up the infrastructure and deploy.

**CURRENT STATUS:**
- Location: /home/qualiasolutions/Desktop/Projects/websites/chainwise
- Production Readiness: 98/100 ‚úÖ
- Critical Issues: 0 (all resolved)
- Build Status: Successful (21.1s, 94 pages)
- Code: Pushed to GitHub ‚úÖ
- Documentation: Complete ‚úÖ

**WHAT'S ALREADY DONE:**
‚úÖ All production code complete (Stripe, error boundaries, rate limiting)
‚úÖ Build successful with zero errors
‚úÖ All changes committed and pushed to GitHub
‚úÖ Complete deployment documentation created (7 files, 3,600+ lines)
‚úÖ Database migrations ready (37 SQL files)
‚úÖ Environment variable templates prepared

**YOUR MISSION:**
Deploy ChainWise to production by setting up infrastructure and connecting services.

**ESTIMATED TIME:** 2-3 hours

**START HERE:**
1. Read START_DEPLOYMENT.md (5 minutes) - Your overview
2. Read DEPLOYMENT_GUIDE.md (10 minutes) - Your step-by-step guide
3. Follow the guide section by section (2-3 hours)

**KEY FILES TO READ (in this order):**
1. START_DEPLOYMENT.md - Start here for overview
2. DEPLOYMENT_GUIDE.md - Your primary guide (545 lines, complete instructions)
3. MIGRATION_ORDER.md - Database migration reference (37 files listed)
4. DEPLOYMENT_CHECKLIST.md - Comprehensive checklist (optional reference)

**WHAT YOU'LL DO:**

Phase 1: Production Supabase Setup (15 min)
‚ñ° Go to https://app.supabase.com
‚ñ° Create new project: "chainwise-production"
‚ñ° Choose region: us-east-1 (or closest to users)
‚ñ° Save these values:
  - NEXT_PUBLIC_SUPABASE_URL
  - NEXT_PUBLIC_SUPABASE_ANON_KEY
  - SUPABASE_SERVICE_ROLE_KEY
‚ñ° Apply all 37 migrations:
  Option A (Recommended): npx supabase link then npx supabase db push
  Option B (Manual): Copy/paste each SQL file in order (see MIGRATION_ORDER.md)
‚ñ° Verify tables created (31+ expected)
‚ñ° Enable automated backups
‚ñ° Create initial backup

Phase 2: Vercel Project Setup (15 min)
‚ñ° Go to https://vercel.com/new
‚ñ° Import repository: Qualiasolutions/chainwise
‚ñ° Configure:
  - Framework: Next.js
  - Build command: npm run build
  - Output directory: .next
‚ñ° DON'T deploy yet (add env vars first)

Phase 3: Stripe Live Mode Setup (30 min)
‚ñ° Go to https://dashboard.stripe.com
‚ñ° Complete business verification (if not done)
‚ñ° Switch to LIVE mode (toggle top-right)
‚ñ° Create 4 products:
  1. ChainWise Pro - Monthly: $12.99/month ‚Üí Save price ID
  2. ChainWise Pro - Yearly: $129.99/year ‚Üí Save price ID
  3. ChainWise Elite - Monthly: $24.99/month ‚Üí Save price ID
  4. ChainWise Elite - Yearly: $249.99/year ‚Üí Save price ID
‚ñ° Get API keys (Developers ‚Üí API keys):
  - NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (pk_live_...)
  - STRIPE_SECRET_KEY (sk_live_...)

Phase 4: Configure Environment Variables (20 min)
‚ñ° In Vercel: Settings ‚Üí Environment Variables
‚ñ° Add all 11 variables (Production environment):

  NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
  NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
  SUPABASE_SERVICE_ROLE_KEY=eyJxxx...
  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxx...
  STRIPE_SECRET_KEY=sk_live_xxx...
  STRIPE_PRICE_PRO_MONTHLY=price_xxx...
  STRIPE_PRICE_PRO_YEARLY=price_xxx...
  STRIPE_PRICE_ELITE_MONTHLY=price_xxx...
  STRIPE_PRICE_ELITE_YEARLY=price_xxx...
  OPENAI_API_KEY=sk-xxx...
  COINGECKO_API_KEY=CG-xxx... (optional)

‚ñ° Note: STRIPE_WEBHOOK_SECRET comes after deployment

Phase 5: Deploy to Preview (30 min)
‚ñ° Trigger deployment in Vercel
‚ñ° Wait for build (2-3 minutes)
‚ñ° Get preview URL (e.g., chainwise-xxx.vercel.app)
‚ñ° Test thoroughly:
  ‚úì Homepage loads
  ‚úì Sign up/login works
  ‚úì AI chat responds (Buddy persona)
  ‚úì Stripe checkout works (test card: 4242 4242 4242 4242)
  ‚úì Credits deduct correctly
  ‚úì Database updates visible in Supabase
‚ñ° Check Vercel logs for errors

Phase 6: Configure Stripe Webhook (10 min)
‚ñ° In Stripe: Developers ‚Üí Webhooks ‚Üí Add endpoint
‚ñ° Endpoint URL: https://YOUR-PREVIEW-URL/api/webhooks/stripe
‚ñ° Select events:
  ‚úì checkout.session.completed
  ‚úì customer.subscription.created
  ‚úì customer.subscription.updated
  ‚úì customer.subscription.deleted
  ‚úì invoice.payment_succeeded
  ‚úì invoice.payment_failed
‚ñ° Copy webhook signing secret (whsec_...)
‚ñ° Add to Vercel env vars: STRIPE_WEBHOOK_SECRET

Phase 7: Production Domain Setup (Optional, 15 min)
‚ñ° In Vercel: Settings ‚Üí Domains
‚ñ° Add custom domain: chainwise.tech
‚ñ° Follow DNS instructions
‚ñ° Wait for SSL certificate
‚ñ° Update Stripe webhook to use custom domain

Phase 8: Production Testing (20 min)
‚ñ° Create real user account
‚ñ° Test real payment with your credit card (you'll be charged!)
‚ñ° Verify subscription created
‚ñ° Test AI chat and premium tools
‚ñ° Check all features work
‚ñ° Monitor logs for 10 minutes

Phase 9: Launch (10 min)
‚ñ° Verify everything working
‚ñ° Monitor for errors
‚ñ° Announce launch (optional)

**ENVIRONMENT VARIABLES NEEDED (11 total):**

Supabase (3):
- NEXT_PUBLIC_SUPABASE_URL
- NEXT_PUBLIC_SUPABASE_ANON_KEY
- SUPABASE_SERVICE_ROLE_KEY

Stripe (7):
- NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
- STRIPE_SECRET_KEY
- STRIPE_WEBHOOK_SECRET
- STRIPE_PRICE_PRO_MONTHLY
- STRIPE_PRICE_PRO_YEARLY
- STRIPE_PRICE_ELITE_MONTHLY
- STRIPE_PRICE_ELITE_YEARLY

APIs (1-2):
- OPENAI_API_KEY (required)
- COINGECKO_API_KEY (optional)

**CRITICAL REMINDERS:**
‚ö†Ô∏è Make sure Stripe is in LIVE mode when getting keys
‚ö†Ô∏è Double-check every environment variable (one typo breaks everything)
‚ö†Ô∏è Apply all 37 migrations in order (see MIGRATION_ORDER.md)
‚ö†Ô∏è Test with Stripe test cards in preview before going live
‚ö†Ô∏è Keep SUPABASE_SERVICE_ROLE_KEY and STRIPE_SECRET_KEY secret!

**SUCCESS CRITERIA:**
‚úì Users can sign up and login
‚úì Stripe checkout processes real payments
‚úì Subscriptions create in database
‚úì Credits allocated correctly
‚úì AI chat responds
‚úì Premium tools function
‚úì Webhook events arrive
‚úì No errors in logs

**IF YOU GET STUCK:**
1. Check DEPLOYMENT_GUIDE.md for detailed troubleshooting
2. Check MIGRATION_ORDER.md for database issues
3. Check Vercel logs for deployment errors
4. Check Supabase logs for database errors
5. Check Stripe logs for payment/webhook issues

**EMERGENCY ROLLBACK:**
If something breaks badly:
1. Vercel ‚Üí Deployments ‚Üí Previous ‚Üí Promote to Production
2. Instant rollback (< 30 seconds)

**VERIFICATION COMMANDS:**

Test production build locally:
npm run build

Link to Supabase and push migrations:
npx supabase link --project-ref YOUR_PROJECT_REF
npx supabase db push

Test API health:
curl https://your-domain.vercel.app/api/health

**ACCOUNTS YOU'LL NEED:**
- Supabase: https://app.supabase.com
- Vercel: https://vercel.com
- Stripe: https://dashboard.stripe.com
- OpenAI: https://platform.openai.com
- CoinGecko: https://coingecko.com/en/api (optional)

**IMPORTANT NOTES:**
- All code is production-ready (no changes needed)
- Build is successful (verified)
- Just need to configure services and deploy
- Follow DEPLOYMENT_GUIDE.md step-by-step
- Don't skip steps or assume defaults

**DOCUMENTATION FILES:**
All documentation is in the project root:
- START_DEPLOYMENT.md (353 lines) - Your overview
- DEPLOYMENT_GUIDE.md (545 lines) - Complete guide
- MIGRATION_ORDER.md (221 lines) - Database reference
- DEPLOYMENT_CHECKLIST.md (450 lines) - Detailed checklist
- PRODUCTION_PLAN.md (514 lines) - Technical details
- AUDIT_REPORT.md (1,226 lines) - Platform audit
- AGENT_HANDOFF.md (330 lines) - Context

**QUICK REFERENCE:**
- Repository: https://github.com/Qualiasolutions/chainwise
- Latest commit: ab8437f9
- Node version: Use latest LTS
- Package manager: npm

**YOUR WORKFLOW:**
1. Read START_DEPLOYMENT.md (understand what's been done)
2. Open DEPLOYMENT_GUIDE.md (your step-by-step instructions)
3. Work through each phase
4. Check off items as you complete them
5. Test thoroughly before going live
6. Monitor after launch

**EXPECTED TIMELINE:**
- Reading documentation: 15 minutes
- Supabase setup: 15 minutes
- Vercel setup: 15 minutes
- Stripe setup: 30 minutes
- Configuration: 20 minutes
- Preview deployment: 30 minutes
- Production deployment: 30 minutes
- Testing and validation: 20 minutes
Total: 2-3 hours

**START NOW:**
Begin by reading START_DEPLOYMENT.md in the project root, then proceed with DEPLOYMENT_GUIDE.md. Follow each step carefully, and you'll have ChainWise live in production in 2-3 hours.

Good luck with the deployment! üöÄ

===============================================
END OF PROMPT - Copy everything above
===============================================
